<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SF.box</title>
    <link rel="icon" href="./imgs/favicon.ico" type="image/x-icon">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background: #000;
            font-family: 'Segoe UI', Arial, sans-serif;
            /* overflow: hidden; */
            /* overflow-x: hidden; */
            /* transition: background 0.8s cubic-bezier(.77,0,.18,1); */
        }
        #particles-js {
            position: fixed;
            top: 20vh;
            left: 20vw;
            width: 60vw;
            height: 60vh;
            z-index: 0;
        }
        .sections {
            width: 100vw;
        }
        .section {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .subtitle_section {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .subtitle_column {
            display: flex;
            flex-direction: column;
            align-items: left;
            justify-content: left;
            position: relative;
        }
        .subtitle_column_right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            justify-content: right;
            position: relative;
        }
        .section:nth-child(2) {
            background: url('./imgs/styx_bg.webp');
            /* background-size: 100% 100%; */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .section:nth-child(3) {
            background: url('./imgs/toolkit_bg.webp');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .section:nth-child(4) {
            background: url('./imgs/ai_bg.webp');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        /* .section:nth-child(5) {
            background: linear-gradient(135deg, #232526 0%, #414345 100%);
        } */
        .section:nth-child(1) .main-title,
        .section:nth-child(1) .subtitle {
            text-align: left;
            /* margin-left: 8vw; */
        }
        .main-title {
            font-size: 10vw;
            color: #fff;
            letter-spacing: 0.1em;
            font-weight: bold;
            margin: 0 0 0 0;
            /* text-shadow: 0 4px 32px rgba(10,24,51,0.12); */
        }
        .subtitle {
            font-size: 2.5vw;
            color: #fff;
            letter-spacing: 0.05em;
            opacity: 0.85;
            margin: 0;
        }
        .logo-img {
            width: 25vw;
            height: 25vw;
            max-width: 340px;
            max-height: 340px;
            background: #e3eaf6;
            border-radius: 1vw;
            /* margin-bottom: 2vw; */
            margin-right: 2vw;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3vw;
            color: #b0b8c9;
            box-shadow: 0 2px 16px rgba(10,24,51,0.08);
            user-select: none;
        }
        .app-img-wrapper {
            width: 8vw;
            height: 8vw;
            max-width: 160px;
            max-height: 160px;
            /* background: #e3eaf6; */
            border-radius: 1vw;
            margin-bottom: 2vw;
            display: flex;
            align-items: center;
            justify-content: center;
            /* font-size: 3vw; */
            /* color: #b0b8c9; */
            /* box-shadow: 0 2px 16px rgba(10,24,51,0.08); */
            user-select: none;
        }
        .app-img {
            width: 6vw;
            height: 6vw;
            max-width: 100px;
            max-height: 100px;
            background: #e3eaf6;
            border-radius: 1vw;
            margin-bottom: 2vw;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3vw;
            color: #b0b8c9;
            box-shadow: 0 2px 16px rgba(10,24,51,0.08);
            user-select: none;
        }
        .section-img {
            width: 18vw;
            height: 18vw;
            max-width: 240px;
            max-height: 240px;
            background: #e3eaf6;
            border-radius: 1vw;
            margin-bottom: 2vw;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3vw;
            color: #b0b8c9;
            box-shadow: 0 2px 16px rgba(10,24,51,0.08);
            user-select: none;
        }
        .section-img-green {
            width: 18vw;
            height: 18vw;
            max-width: 240px;
            max-height: 240px;
            background: #007c00;
            border-radius: 1vw;
            margin-bottom: 2vw;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3vw;
            color: #000000;
            box-shadow: 0 2px 16px rgba(0,128,0,0.08);
            user-select: none;
        }
        .section-img-black {
            width: 18vw;
            height: 18vw;
            max-width: 240px;
            max-height: 240px;
            background: #000000;
            border-radius: 1vw;
            margin-bottom: 2vw;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3vw;
            color: #ffffff;
            box-shadow: 0 2px 16px rgba(0,0,0,0.08);
            user-select: none;
            background-image: url('./imgs/ai_logo.webp');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .section-content {
            font-size: 2vw;
            color: #fff;
            /* background: rgba(255,255,255,0.7); */
            /* border-radius: 1vw; */
            /* box-shadow: 0 2px 16px rgba(10,24,51,0.08); */
            /* padding: 2vw 3vw; */
            line-height: 1.7;
            min-height: 5vw;
            max-width: 60vw;
            text-align: left;
        }
        .section-content-black {
            font-size: 2vw;
            color: #000;
            /* background: rgba(255,255,255,0.7); */
            /* border-radius: 1vw; */
            /* box-shadow: 0 2px 16px rgba(10,24,51,0.08); */
            /* padding: 2vw 3vw; */
            line-height: 1.7;
            min-height: 5vw;
            max-width: 60vw;
            text-align: left;
            /* text-shadow: 0 4px 32px rgb(255, 255, 255); */
        }
        @media (max-width: 600px) {
            .main-title { font-size: 24vw; }
            .subtitle { font-size: 5vw; }
            .section-img { width: 36vw; height: 36vw; font-size: 7vw; }
            .section-content { font-size: 4vw; max-width: 90vw; padding: 5vw 3vw; }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
</head>
<body>
    <div id="particles-js"></div>
    <div class="sections" id="sections">
        <div class="section" style="z-index:1;">
            <div class="subtitle_section">
                <div class="logo-img"><img src="./imgs/sifi_box_logo_design.jpg" alt="SF.box" style="width: 100%; height: 100%;"></div>
                <div class="subtitle_column">
                    <h1 class="main-title">SF.box</h1>
                    <div class="subtitle" id="subtitle">A creative metaverse <br/>
                        A decentralized ecosystem</div>
                </div>
            </div>
        </div>
        <div class="section" style="z-index:1;">
            <div class="section-img">
                <img src="./imgs/styx_logo.webp" alt="Styx" style="width: 100%; height: 100%; object-fit: cover; border-radius: 1vw;">
            </div>
            <div class="subtitle_section">
                <div class="subtitle_column_right">
                    <div class="section-content">Phase One:<br/>
                        Launch the sci-fi novel Styx <br/>
                        create more stories about Styx<br/>
                        and build a metaverse inspired by its universe.</div>
                </div>
            </div>
        </div>
        <div class="section" style="z-index:1;">
            <div class="subtitle_section">
                <div class="subtitle_column_right">
                    <div class="section-img-green">Toolkit & Ecosystem</div>
                    <div class="section-content">Phase Two:<br/>
                        Build a creative toolkit <br/>
                        and establish a content creation ecosystem.</div>
                </div>
            </div>
        </div>
        <div class="section" style="z-index:1;">
            <div class="subtitle_section">
                <div class="subtitle_column">
                    <div class="section-img-black">AI & Decentralization</div>
                    <div class="section-content">Phase Three:<br/>
                        Leveraging AI to enhance the capabilities, fairness, and impartiality of content moderation and rating systems,<br/>
                        and establish a decentralized ecological network.</div>
                </div>
            </div>
        </div>
        <div class="section" style="z-index:1;">
            <div class="subtitle_section">
                <div class="app-img-wrapper">
                    <div class="app-img"><a href='https://discord.gg/pSyerZh5' target='_blank' style='color:#0a1833;'>D</a></div>
                </div>
                <div class="app-img-wrapper">
                    <div class="app-img"><a href='https://github.com/sf-box' target='_blank' style='color:#0a1833;'>G</a></div>
                </div>
                <div class="app-img-wrapper">
                    <div class="app-img"><a href='https://medium.com/sf-box' target='_blank' style='color:#0a1833;'>M</a></div>
                </div>
                <div class="app-img-wrapper">
                    <div class="app-img"><a href='https://twitter.com/sf-box' target='_blank' style='color:#0a1833;'>X</a></div>
                </div>
                <div class="app-img-wrapper">
                    <div class="app-img"><a href='https://www.facebook.com/sf-box' target='_blank' style='color:#0a1833;'>F</a></div>
                </div>
                <div class="app-img-wrapper">
                    <div class="app-img"><a href='https://www.linkedin.com/sf-box' target='_blank' style='color:#0a1833;'>L</a></div>
                </div>
                <div class="app-img-wrapper">
                    <div class="app-img"><a href='https://telegram.org/sf-box' target='_blank' style='color:#0a1833;'>T</a></div>
                </div>
            </div>
        </div>
    </div>
    <script>
    // 粒子颜色渐变数组
    const particleColorGradient = [
        '#fff',    // 白色
        '#ff6b6b', // 红色
        '#4ecdc4', // 青色
        '#45b7d1', // 蓝色
        '#96ceb4', // 绿色
        '#feca57', // 黄色
        '#ff9ff3', // 粉色
        '#54a0ff'  // 天蓝
    ];
    let currentColorIndex = 0;

    // 每秒切换粒子颜色
    // function updateParticleColor() {
    //     if (window.pJSDom && window.pJSDom.length) {
    //         const pJS = window.pJSDom[0].pJS;
    //         const color = particleColorGradient[currentColorIndex];
    //         pJS.particles.array.forEach(particle => {
    //             particle.color.value = color;
    //         });
    //         pJS.particles.line_linked.color = color;
    //         pJS.fn.particlesRefresh();
    //     }
    //     currentColorIndex = (currentColorIndex + 1) % particleColorGradient.length;
    // }

    // 启动颜色渐变定时器
    // setInterval(updateParticleColor, 1000);

    // 每一屏的粒子颜色（与背景色对比强烈）
    const particleColors = [
        // '#0a1833', // 主题页：深蓝
        '#fff',
        '#fff',    // 页1：白色
        '#fff',    // 页2：白色
        '#232526', // 页3：深灰
        '#fff'     // 页4：白色
    ];

    // 粒子初始化和销毁
    function loadParticles(color) {
        if (window.pJSDom && window.pJSDom.length) {
            window.pJSDom[0].pJS.fn.vendors.destroypJS();
            window.pJSDom = [];
        }
        particlesJS('particles-js', {
            particles: {
                number: { value: 39, density: { enable: true, value_area: 800 } },
                color: { value: color },
                shape: { type: 'circle' },
                opacity: { value: 0.8, random: false },
                size: { value: 7, random: true },
                line_linked: { enable: true, distance: 350, color: '#fff', opacity: 0.5, width: 2 },
                move: { enable: true, speed: 2, direction: 'none', random: false, straight: false, out_mode: 'out' }
            },
            interactivity: {
                detect_on: 'canvas',
                events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' } },
                modes: { repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 4 } }
            },
            retina_detect: true
        });
    }

    // 只在主题页显示粒子效果
    function updateParticlesVisibility() {
        const particlesDiv = document.getElementById('particles-js');
        // 只有当页面顶部且首页满屏显示时才显示粒子效果
        // if ((window.scrollY || window.pageYOffset) === 0) {
            particlesDiv.style.opacity = '1';
            particlesDiv.style.pointerEvents = '';
            // loadParticles(particleColors[0]);
            //获取当前时间的秒数
            const currentTime = new Date().getSeconds();
            currentColorIndex = (currentColorIndex + 1 + currentTime) % particleColorGradient.length;
            const color = particleColorGradient[currentColorIndex];
            loadParticles(color);
        // } else {
        //     particlesDiv.style.opacity = '0';
        //     particlesDiv.style.pointerEvents = 'none';
        // }
    }
    // window.addEventListener('scroll', updateParticlesVisibility);
    // window.addEventListener('resize', updateParticlesVisibility);
    // 页面加载完成后自动显示首页粒子效果
    window.addEventListener('DOMContentLoaded', () => {
        updateParticlesVisibility();
    });

    // 副标题打字机动画
    // const subtitleText = 'A creative metaverse, a decentralized ecosystem';
    // const subtitleElem = document.getElementById('subtitle');
    // subtitleElem.textContent = subtitleText;

    // 全屏分页滚动
    (function() {
        const sections = document.querySelectorAll('.section');
        let isAutoScrolling = false;
        let lastScroll = 0;
        let touchStartY = null;

        function getCurrentPage() {
            const scrollY = window.scrollY || window.pageYOffset;
            const vh = window.innerHeight;
            return Math.round(scrollY / vh);
        }

        function scrollToPage(pageIdx) {
            isAutoScrolling = true;
            const vh = window.innerHeight;
            window.scrollTo({ top: pageIdx * vh, behavior: 'smooth' });
            setTimeout(() => { isAutoScrolling = false; }, 700);
        }

        function handleWheel(e) {
            if (isAutoScrolling) return;
            e.preventDefault();
            const currentPage = getCurrentPage();
            if (e.deltaY > 0 && currentPage < sections.length - 1) {
                scrollToPage(currentPage + 1);
            } else if (e.deltaY < 0 && currentPage > 0) {
                scrollToPage(currentPage - 1);
            }
        }

        function handleKey(e) {
            if (isAutoScrolling) return;
            const currentPage = getCurrentPage();
            if (e.key === 'ArrowDown' && currentPage < sections.length - 1) {
                scrollToPage(currentPage + 1);
            } else if (e.key === 'ArrowUp' && currentPage > 0) {
                scrollToPage(currentPage - 1);
            }
        }

        function handleTouchStart(e) {
            if (e.touches.length === 1) touchStartY = e.touches[0].clientY;
        }
        function handleTouchEnd(e) {
            if (touchStartY === null) return;
            const touchEndY = e.changedTouches[0].clientY;
            const currentPage = getCurrentPage();
            if (touchStartY - touchEndY > 40 && currentPage < sections.length - 1) {
                scrollToPage(currentPage + 1);
            } else if (touchEndY - touchStartY > 40 && currentPage > 0) {
                scrollToPage(currentPage - 1);
            }
            touchStartY = null;
        }

        window.addEventListener('wheel', handleWheel, { passive: false });
        window.addEventListener('keydown', handleKey);
        window.addEventListener('touchstart', handleTouchStart);
        window.addEventListener('touchend', handleTouchEnd);
    })();

    // 绘制转动地球
    function drawRotatingEarth() {
        const canvas = document.getElementById('earth-canvas');
        const ctx = canvas.getContext('2d');
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        const radius = 100;
        let rotation = 0;

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // 绘制地球轮廓
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            ctx.strokeStyle = '#4ecdc4';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // 绘制经纬线
            for (let i = 0; i < 8; i++) {
                const angle = (i * Math.PI / 4) + rotation;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius * Math.cos(angle), 0, 2 * Math.PI);
                ctx.strokeStyle = '#45b7d1';
                ctx.lineWidth = 1;
                ctx.stroke();
            }
            
            // 绘制粒子点
            for (let i = 0; i < 20; i++) {
                const lat = (Math.random() - 0.5) * Math.PI;
                const lon = (Math.random() - 0.5) * 2 * Math.PI + rotation;
                const x = centerX + radius * Math.cos(lat) * Math.cos(lon);
                const y = centerY + radius * Math.sin(lat);
                
                ctx.beginPath();
                ctx.arc(x, y, 2, 0, 2 * Math.PI);
                ctx.fillStyle = '#fff';
                ctx.fill();
            }
            
            rotation += 0.02;
            requestAnimationFrame(animate);
        }
        
        animate();
    }

    // 页面加载完成后启动地球动画
    window.addEventListener('load', () => {
        drawRotatingEarth();
    });
    </script>
</body>
</html>

